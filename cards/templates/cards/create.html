{% extends 'cards/base.html' %}

{% block title %}–°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É - –ü–ê–†–¢–ú–ê–†–¢{% endblock %}

{% block content %}
<div class="header">
    <h1>‚ûï –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É</h1>
    <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ –ü–ö</p>
</div>

<form method="post" enctype="multipart/form-data" class="glass-panel">
    {% csrf_token %}
    
    <!-- –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è -->
    <div class="form-group">
        <label class="form-label">üì∏ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ü–ö</label>
        <div id="drop-zone" class="glass-panel" style="padding: 40px; text-align: center; cursor: pointer; border: 2px dashed var(--glass-border);">
            <p style="font-size: 1.2rem; margin-bottom: 8px;">üìé –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–æ—Ç–æ —Å—é–¥–∞</p>
            <p style="color: rgba(255,255,255,0.6); font-size: 0.9rem;">–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞</p>
            {{ form.photo }}
        </div>
        <img id="photo-preview" style="max-width: 300px; margin-top: 16px; border-radius: 8px; display: none;">
    </div>

    <!-- –°—Ç–∏–ª—å -->
    <div class="form-group">
        <label class="form-label">üé® –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å</label>
        <div class="style-selector">
            {% for value, label in form.style.field.choices %}
            <div class="style-card">
                <input type="radio" name="style" value="{{ value }}" id="style_{{ value }}" {% if value == 'msi' %}checked{% endif %}>
                <label for="style_{{ value }}" class="style-content">
                    <div class="style-icon">{{ label }}</div>
                    <div class="style-name">{{ label }}</div>
                </label>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
    <h3 style="margin: 32px 0 16px;">‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h3>
    <div class="grid grid-2">
        <div class="form-group">
            <label class="form-label">üñ• –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä</label>
            {{ form.cpu }}
        </div>
        <div class="form-group">
            <label class="form-label">üéÆ –í–∏–¥–µ–æ–∫–∞—Ä—Ç–∞</label>
            {{ form.gpu }}
        </div>
        <div class="form-group">
            <label class="form-label">üß† –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å</label>
            {{ form.ram }}
        </div>
        <div class="form-group">
            <label class="form-label">üíæ –ù–∞–∫–æ–ø–∏—Ç–µ–ª—å</label>
            {{ form.storage }}
        </div>
    </div>

    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ -->
    <h3 style="margin: 32px 0 16px;">üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</h3>
    <div class="grid grid-3">
        <div class="form-group">
            <label class="form-label">–ú–∞—Ç. –ø–ª–∞—Ç–∞</label>
            {{ form.motherboard }}
        </div>
        <div class="form-group">
            <label class="form-label">–ë–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è</label>
            {{ form.psu }}
        </div>
        <div class="form-group">
            <label class="form-label">–ö–æ—Ä–ø—É—Å</label>
            {{ form.case }}
        </div>
    </div>

    <!-- –¶–µ–Ω–∞ –∏ –±–æ–Ω—É—Å—ã -->
    <h3 style="margin: 32px 0 16px;">üí∞ –¶–µ–Ω–∞ –∏ –±–æ–Ω—É—Å—ã</h3>
    <div class="grid grid-2">
        <div class="form-group">
            <label class="form-label">üíµ –¶–µ–Ω–∞ (—Ä—É–±.)</label>
            {{ form.price }}
        </div>
        <div class="form-group">
            <label class="form-label">‚ú® –ë–æ–Ω—É—Å—ã</label>
            {{ form.bonuses }}
        </div>
    </div>

    <!-- Submit -->
    <div class="text-center mt-4">
        <button type="submit" class="btn-glass btn-apple" style="padding: 16px 48px; font-size: 1.1rem;">
            ‚úÖ –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É
        </button>
    </div>
</form>

<!-- –ü—Ä–µ—Å–µ—Ç—ã -->
{% if presets %}
<div class="glass-panel mt-4">
    <h3 style="margin-bottom: 16px;">üíæ –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–µ—Å–µ—Ç—ã</h3>
    <div class="grid grid-3">
        {% for preset in presets %}
        <button onclick="loadPreset({{ preset.pk }})" class="btn-glass" style="width: 100%;">
            {{ preset.name }}
        </button>
        {% endfor %}
    </div>
</div>
{% endif %}
{% endblock %}
